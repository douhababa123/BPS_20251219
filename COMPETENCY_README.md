# 📊 能力画像（Competency Intelligence）模块

> 基于Supabase真实数据的团队和个人能力分析平台

---

## 🎯 核心功能

### 团队视图（Team View）
- 📊 **9大模块雷达图**：展示团队整体能力现状vs目标
- 📈 **差距分布柱状图**：量化显示模块和技能的差距（支持模块级/技能级切换）
- 🏆 **模块排名表**：按总Gap排序，识别最薄弱模块（🥇🥈🥉图标）

### 个人视图（Personal View）
- 🎯 **个人雷达图**：展示单个工程师的能力分布（支持9大模块/39技能切换）
- 📉 **个人差距柱状图**：量化显示个人能力差距
- 💡 **Top 10提升建议**：列出最需要提升的10个技能

### 通用功能
- 🗓️ **年度筛选**：支持2023-2025年数据查看
- 🔄 **数据刷新**：一键更新最新数据
- 📥 **CSV导出**：支持团队和个人数据导出
- 📊 **统计卡片**：实时显示员工总数、技能总数、平均现状、总差距

---

## 📁 文档导航

| 文档名称 | 目标读者 | 内容 | 阅读时间 |
|---------|---------|------|---------|
| **[🚀 QUICK_START_GUIDE.md](./QUICK_START_GUIDE.md)** | 所有用户 | 5分钟快速上手 | 5分钟 |
| **[📖 COMPETENCY_USER_GUIDE.md](./COMPETENCY_USER_GUIDE.md)** | 终端用户 | 完整功能说明和操作指南 | 15分钟 |
| **[🔧 COMPETENCY_IMPLEMENTATION_SUMMARY.md](./COMPETENCY_IMPLEMENTATION_SUMMARY.md)** | 开发人员 | 技术架构、代码逻辑、数据流 | 30分钟 |
| **[📋 FINAL_DELIVERY_SUMMARY.md](./FINAL_DELIVERY_SUMMARY.md)** | 项目管理者 | 交付内容、功能清单、未来规划 | 10分钟 |
| **[📝 COMPETENCY_OPTIMIZATION_PLAN.md](./COMPETENCY_OPTIMIZATION_PLAN.md)** | 开发人员 | 初始需求和实现计划 | 15分钟 |

---

## 🚀 快速开始

### 前置条件
```bash
✅ Node.js 18+
✅ Supabase账号
✅ 已配置.env文件（VITE_SUPABASE_URL, VITE_SUPABASE_ANON_KEY）
```

### 启动应用
```bash
# 安装依赖
npm install

# 启动开发服务器
npm run dev

# 访问
http://localhost:5173
```

### 导入数据
1. 点击左侧 **"数据导入(新)"**
2. 导入能力定义（39个技能）
3. 导入能力评估（员工评估数据）

### 开始使用
1. 点击左侧 **"能力画像 Competency Profile"**
2. 查看团队视图或切换到个人视图
3. 探索雷达图、柱状图、排名表

> 📖 **详细步骤**：请查看 [QUICK_START_GUIDE.md](./QUICK_START_GUIDE.md)

---

## 📊 9大模块说明

| 模块 | 图标 | 英文名称 |
|------|------|---------|
| BPS elements | 🎯 | BPS基础要素 |
| Investment efficiency_PGL | 📊 | 投资效率-PGL |
| Investment efficiency_IE | 📈 | 投资效率-IE |
| Waste-free&stable flow_TPM | ⚙️ | 无浪费稳定流程-TPM |
| Waste-free&stable flow_LBP | 🔄 | 无浪费稳定流程-LBP |
| Everybody's CIP | 💡 | 全员持续改进 |
| Leadership commitment | 👥 | 领导力承诺 |
| CIP in indirect area_LEAN | ⚡ | 间接领域CIP-LEAN |
| Digital Transformation | 💻 | 数字化转型 |

---

## 🔧 技术栈

### 前端
- **React 18** + **TypeScript**
- **Tailwind CSS**（样式）
- **React Query**（数据缓存）
- **Recharts**（图表库）
- **Lucide React**（图标）

### 后端
- **Supabase**（数据库 + API）
- **PostgreSQL**（关系型数据库）

### 数据表
- `employees`（员工表）
- `skills`（技能表，39个技能，9大模块）
- `competency_assessments`（评估表）
- `departments`（部门表）

---

## 📸 界面预览

### 团队视图 - 差距分析
```
┌─────────────────────────────────────────────┐
│  📊 统计卡片（4个）                           │
├─────────────────────────────────────────────┤
│  [团队视图] [个人视图]                        │
│  [差距分析] [排名]                            │
├──────────────────┬──────────────────────────┤
│  🎯 雷达图        │  📈 柱状图                │
│  9大模块          │  [模块级] [技能级]        │
│  现状 vs 目标     │  差距分布                 │
└──────────────────┴──────────────────────────┘
```

### 团队视图 - 排名
```
┌─────────────────────────────────────────────┐
│  🏆 模块排名表                                │
│  ┌─────┬──────────────┬────────┬─────────┐ │
│  │🥇   │ BPS elements │ Gap:45 │ 12人    │ │
│  │🥈   │ TPM          │ Gap:38 │ 15人    │ │
│  │🥉   │ CIP          │ Gap:30 │ 18人    │ │
│  └─────┴──────────────┴────────┴─────────┘ │
└─────────────────────────────────────────────┘
```

### 个人视图
```
┌─────────────────────────────────────────────┐
│  👤 选择工程师: [Wang Ning - SNa-PS ▼]       │
├──────────────────┬──────────────────────────┤
│  🎯 个人雷达图    │  📉 个人柱状图            │
│  [9大模块][技能]  │  [模块级] [技能级]        │
├─────────────────────────────────────────────┤
│  💡 Top 10 提升建议                           │
│  ┌────────────────────────────────────────┐ │
│  │ 1. VSM/VSD - Gap:3 (L1→L4)            │ │
│  │ 2. SMC - Gap:2 (L2→L4)                │ │
│  └────────────────────────────────────────┘ │
└─────────────────────────────────────────────┘
```

---

## 💡 使用场景

### 团队管理者
- 📊 **月度复盘**：查看团队整体能力变化
- 🎯 **培训规划**：根据排名表制定培训优先级
- 📈 **绩效评估**：对比年度数据，评估团队成长

### HR/培训部门
- 📋 **需求调研**：导出Gap数据，分析培训需求
- 💰 **预算分配**：将资源投入Gap最大的模块
- 📊 **效果评估**：对比培训前后Gap变化

### 个人发展
- 🔍 **自我评估**：查看个人能力现状
- 🎯 **目标设定**：根据Top 10建议制定学习计划
- 📈 **进度追踪**：每季度查看Gap变化

---

## 🎨 设计理念

### 数据驱动
- 🎯 **100%真实数据**：完全基于Supabase，无mock数据
- 🔄 **实时计算**：所有统计指标实时计算，确保数据最新
- 📊 **多维度分析**：团队/个人、模块/技能、多年度

### 用户友好
- 🎨 **全屏布局**：最大化内容显示
- 🎯 **直观交互**：二级Tab、按钮切换、下拉选择
- 📊 **丰富可视化**：雷达图、柱状图、排名表、统计卡片

### 高性能
- ⚡ **React Query缓存**：避免重复请求
- 🚀 **useMemo优化**：缓存计算结果
- 📉 **条件渲染**：按需加载组件

---

## 🧪 测试检查清单

- [ ] 数据加载：从Supabase正确获取数据
- [ ] 团队雷达图：9大模块数据正确
- [ ] 团队柱状图：模块级/技能级切换正常
- [ ] 团队排名表：排序和图标显示正确
- [ ] 个人视图：工程师选择和数据更新正常
- [ ] 个人雷达图：9大模块/39技能切换正常
- [ ] 提升建议：Top 10技能显示正确
- [ ] 年度筛选：切换年度后数据更新
- [ ] CSV导出：文件格式和内容正确
- [ ] 刷新功能：手动刷新数据正常

---

## 🐛 已知问题

### 问题1：雷达图标签过长
**影响**：部分模块名称显示不全
**解决**：已截断为20字符，鼠标悬停查看完整名称

### 问题2：技能级图表仅显示Top 15
**原因**：避免图表过载
**解决**：导出CSV查看全部数据

---

## 🔮 未来路线图

### 短期（1-2周）
- [ ] 数据钻取：点击模块查看详细技能
- [ ] 移动端优化：响应式布局调整

### 中期（1个月）
- [ ] 趋势分析：多年度对比折线图
- [ ] 自定义筛选：部门/模块组合筛选
- [ ] 打印功能：生成PDF报告

### 长期（3个月）
- [ ] AI建议：基于Gap生成个性化培训方案
- [ ] 国际化：中英文切换
- [ ] 数据分享：生成分享链接

---

## 📞 支持与反馈

### 问题反馈
- 📧 Email：[您的邮箱]
- 💬 Slack/Teams：[您的频道]
- 🐛 GitHub Issues：[仓库地址]

### 文档反馈
如发现文档错误或有改进建议，请：
1. 提交Issue
2. 发送邮件
3. 直接修改并提交PR

---

## 📝 更新日志

### v1.0.0 (2025-11-24)
✨ **首次发布**
- ✅ 团队视图：雷达图、柱状图、排名表
- ✅ 个人视图：雷达图、柱状图、提升建议
- ✅ 年度筛选、数据刷新、CSV导出
- ✅ 基于Supabase真实数据
- ✅ 全屏布局、响应式设计
- ✅ 完整的用户和技术文档

---

## 🎉 开始探索

现在，打开能力画像模块，开始分析您的团队能力现状吧！

**👉 [查看快速上手指南](./QUICK_START_GUIDE.md)**

---

## 📄 许可证

[您的许可证信息]

---

## 🙏 致谢

感谢所有参与项目的团队成员和测试用户！

**Made with ❤️ by [Your Team Name]**
